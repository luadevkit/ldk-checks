<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
<title>Reference</title>
<link rel="stylesheet" href="ldoc_pale.css" type="text/css" />
</head>
<body>

<div id="container">
<div id="main">


<div id="navigation">
<br/>
<h1>ldk-checks</h1>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>

<h2>Modules</h2>
<ul class="nowrap">
<li><strong>ldk.checks</strong></li>
</ul>
</div>

<div id="content">

<h1>Module <code>ldk.checks</code></h1>

Function arguments checks.
<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
<tr>
<td class="name" nowrap><a href="#arg_error">arg_error(arg[, message][, level=1])</a></td>
<td class="summary">Raises an error reporting a problem with the argument of the calling function at the specified position.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#check_arg">check_arg(arg, condition[, message][, level=1])</a></td>
<td class="summary">Raises an error reporting a problem with the argument of the calling function at the specified position if the given condition is not satisfied.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#check_option">check_option(arg, expected)</a></td>
<td class="summary">Checks whether an argument of the calling function is a string and its value is any of the values specified in a given descriptor.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#check_type">check_type(arg, expected[, level=1])</a></td>
<td class="summary">Checks whether the specified argument of the calling function is of any of the types specified in the given descriptor.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#check_types">check_types(...[, level=1])</a></td>
<td class="summary">Checks whether the arguments of the calling function are of the specified types.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#is_registered">is_registered(descriptor)</a></td>
<td class="summary">Returns a value indicating whether a custom check for a given descriptor has been registered.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#register">register(descriptor, check)</a></td>
<td class="summary">Register a custom check function for a given type descriptor.</td>
</tr>
<tr>
<td class="name" nowrap><a href="#unregister">unregister(descriptor)</a></td>
<td class="summary">Unregister a custom check function for a given type descriptor.</td>
</tr>
</table>
<!--<br/>
<br/> -->

<h2 class="section-header "><a name="Functions"></a>Functions</h2>

<dl class="function">
<dt>
<a name = "arg_error"></a>
<strong>arg_error(arg[, message][, level=1])</strong>
</dt>
<dd>
<p>Raises an error reporting a problem with the argument of the calling function at the specified position. </p><p> This function never returns.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">arg</span>
<span class="types"><span class="type">integer</span></span>
the argument position.
</li>
<li><span class="parameter">message</span>
<span class="types"><span class="type">string</span></span>
additional text to use as comment.
(<em>optional</em>)
</li>
<li><span class="parameter">level</span>
<span class="types"><span class="type">integer</span></span>
the level in the call stack at which to report the error.
(<em>default</em> 1)
</li>
</ul>



<h3>Usage:</h3>
<ul>

<pre class="example"><span class="keyword">local</span> <span class="keyword">function</span> foo(x)
  arg_error(<span class="number">1</span>, <span class="string">"message..."</span>)
  ...</pre>

</ul>
</dd>
<dt>
<a name = "check_arg"></a>
<strong>check_arg(arg, condition[, message][, level=1])</strong>
</dt>
<dd>
<p>Raises an error reporting a problem with the argument of the calling function at the specified position if the given condition is not satisfied.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">arg</span>
<span class="types"><span class="type">integer</span></span>
the position of the argument to be tested.
</li>
<li><span class="parameter">condition</span>
<span class="types"><span class="type">bool</span></span>
condition to check.
</li>
<li><span class="parameter">message</span>
<span class="types"><span class="type">string</span></span>
additional text to use as comment.
(<em>optional</em>)
</li>
<li><span class="parameter">level</span>
<span class="types"><span class="type">integer</span></span>
the level in the call stack at which to report the error.
(<em>default</em> 1)
</li>
</ul>



<h3>Usage:</h3>
<ul>

<pre class="example"><span class="keyword">local</span> <span class="keyword">function</span> foo(t, filter)
  check_type(<span class="number">1</span>, <span class="string">'table'</span>)
  check_arg(<span class="number">1</span>, #t &gt; <span class="number">0</span>, <span class="string">"empty table"</span>)
  ...</pre>

</ul>
</dd>
<dt>
<a name = "check_option"></a>
<strong>check_option(arg, expected)</strong>
</dt>
<dd>
<p><p>Checks whether an argument of the calling function is a string and its value is any of the values specified in a given descriptor. </p><p> Multiple values can be accepted if concatenated with a bar <code>|</code>:</p><pre><code>check_option(1, 'one|two') -- accepts both `one` and `two`.</code></pre><p> A <code>nil</code> value can be accepted by prefixing the value descriptor with a question mark:</p><pre><code>check_option(1, '?one') -- matches 'one' or nil</code></pre></p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">arg</span>
<span class="types"><span class="type">integer</span></span>
the position of the argument to be tested.
</li>
<li><span class="parameter">expected</span>
<span class="types"><span class="type">string</span></span>
the acceptable values descriptor.
</li>
</ul>


<h3>Raises:</h3>
If the descriptor is <code>nil</code> or empty; or if the argument position is invalid.

<h3>Usage:</h3>
<ul>

<pre class="example"><span class="keyword">local</span> <span class="keyword">function</span> foo(mode)
  check_option(<span class="number">1</span>, <span class="string">'read|write'</span>)
  ...</pre>

</ul>
</dd>
<dt>
<a name = "check_type"></a>
<strong>check_type(arg, expected[, level=1])</strong>
</dt>
<dd>
<p>Checks whether the specified argument of the calling function is of any of the types specified in the given descriptor. </p><p> The type of the argument at position <code>arg</code> must match one of the types in `expected.</p><p> Each type can be the name of a primitive Lua type:</p><ul>    <li><code>nil</code></li>    <li><code>boolean</code></li>    <li><code>userdata</code></li>    <li><code>number</code></li>    <li><code>string</code></li>    <li><code>table</code></li>    <li><code>function</code></li>    <li><code>thread</code></li></ul><p> one of the following options:</p><ul>    <li><code>any</code> (accepts any non-nil argument type)</li>    <li><code>file</code> (accepts a file object)</li>    <li><code>integer</code> (accepts an integer number)</li>    <li><code>float</code> (accepts a floating point number)</li>    <li>an arbitrary string, matched against the content of the <code>__type</code> or <code>__name</code> field of the    argument's metatable if the argument is table or a userdata, respectively.</li></ul><p> Multiple values can be accepted if concatenated with a bar <code>|</code>:</p><pre><code>check_type(1, 'integer|table') -- matches an integer or a table</code></pre><p> A <code>nil</code> value can be matched by prefixing the type descriptor with <code>?</code>:</p><pre><code> checktype(1, '?table') -- matches a table or nil</code></pre><p> Prefixing a descriptor with <code>!</code> will perform a reverse-match:</p><pre><code> checktype(1, '!table') -- matches anything but a table</code></pre><p> Finally, if a descriptor is prefixed with <code>:</code>, the function will behave like <a href="index.html#check_option">check_option</a>.</p><pre><code> checktype(1, ':one|two') -- matches 'one' or 'two'</code></pre><p> Only one prefix can be used at a time.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">arg</span>
<span class="types"><span class="type">integer</span></span>
position of the argument to be tested.
</li>
<li><span class="parameter">expected</span>
<span class="types"><span class="type">string</span></span>
the descriptor of the expected type.
</li>
<li><span class="parameter">level</span>
<span class="types"><span class="type">integer</span></span>
the level in the call stack at which to report the error.
(<em>default</em> 1)
</li>
</ul>



<h3>Usage:</h3>
<ul>

<pre class="example"><span class="keyword">local</span> <span class="keyword">function</span> foo(t, filter)
  check_type(<span class="number">1</span>, <span class="string">'table'</span>)
  check_type(<span class="number">2</span>, <span class="string">'?function'</span>)
  ...</pre>

</ul>
</dd>
<dt>
<a name = "check_types"></a>
<strong>check_types(...[, level=1])</strong>
</dt>
<dd>
<p><p>Checks whether the arguments of the calling function are of the specified types. </p><p> The last descriptor can be prefixed with:</p><ul>    <li>a <code>*</code> to make it match zero more more arguments.</li>    <li>a <code>+</code> to make it match one more more arguments.</li></ul></p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">...</span>
<span class="types"><span class="type">string</span></span>
the descriptors of the expected types (see <a href="index.html#check_type">check_type</a>).
</li>
<li><span class="parameter">level</span>
<span class="types"><span class="type">integer</span></span>
the level in the call stack at which to report the error.
(<em>default</em> 1)
</li>
</ul>



<h3>Usage:</h3>
<ul>

<pre class="example"><span class="keyword">local</span> <span class="keyword">function</span> foo(t, filter)
  check_types(<span class="string">'table'</span>, <span class="string">'?function'</span>)
  ...</pre>

</ul>
</dd>
<dt>
<a name = "is_registered"></a>
<strong>is_registered(descriptor)</strong>
</dt>
<dd>
<p>Returns a value indicating whether a custom check for a given descriptor has been registered.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">descriptor</span>
<span class="types"><span class="type">string</span></span>
the type descriptor to test for.
</li>
</ul>

<h3>Returns:</h3>
<ol>

<span class="types"><span class="type">boolean</span></span>
<code>true</code> if a custom check for the specified type descriptor has been registered, <code>false</code> otherwise.
</ol>


</dd>
<dt>
<a name = "register"></a>
<strong>register(descriptor, check)</strong>
</dt>
<dd>
<p>Register a custom check function for a given type descriptor.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">descriptor</span>
<span class="types"><span class="type">string</span></span>
the type descriptor to register a check function for.
</li>
<li><span class="parameter">check</span>
<span class="types"><span class="type">function</span></span>
the custom check function.
</li>
</ul>



</dd>
<dt>
<a name = "unregister"></a>
<strong>unregister(descriptor)</strong>
</dt>
<dd>
<p>Unregister a custom check function for a given type descriptor.</p>
<h3>Parameters:</h3>
<ul>
<li><span class="parameter">descriptor</span>
<span class="types"><span class="type">string</span></span>
the type descriptor of the check to unregister.
</li>
</ul>



</dd>
</dl>


</div><!-- id="content" -->
</div><!-- id="main" -->
</div><!-- id="container" -->
</body>
</html>
